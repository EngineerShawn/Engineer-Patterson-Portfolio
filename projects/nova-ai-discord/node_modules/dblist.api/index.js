const fetch = require("node-fetch");
module.exports = class VOID {
  constructor(token, client) {
    this['token'] = token;
    this['client'] = client;
    return this;
  }
  server_count(message) {
  fetch(`https://dblist.ddns.net/api/auth/stats/${this.client.user.id}`, {
        method: 'POST',
        headers: {
        "authorization": this.token,
        "Content-Type": "application/json"
        },
        body: JSON.stringify({"server_count": this.client.guilds.cache.size}),
    })
    .then(a => a.json()).then(x => {
      if(x.success) console.log(message || "Server count posted")
      else
      console.warn(`DBLIST API: ${x.error}`)
    })
  }
}
